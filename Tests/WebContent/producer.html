<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">

    <title>Producer</title>
    <meta name="description" content="The HTML5 Herald">
    <meta name="author" content="SitePoint">

    <link rel="stylesheet" href="css/bootstrap.min.css" media="screen"charset="utf-8">

</head>

<body>

	<div class='container'>	
		
		<h1>Producer Sample Page</h1>
		
		<div class="form-group">
		  <label for="topicName">Topic Name</label>
		  <input type="text" class="form-control" id="topicName" placeholder="Message">
		</div>
		<div class="form-group">
		  <label for="message">Message</label>
		  <input type="text" class="form-control" id="message" placeholder="Message">
		</div>
		
		<button type='button' onclick='sendMessage()'>Submit</button>
		
		<div id='response' class='alert'></div>
	
	</div>
	
    <script src="js/jquery-2.2.3.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/config.js"></script>

    <script>
    
		function sendMessage(){			

			var name = $('#topicName').val();
			var message = $('#message').val();
			
            var server = 'https://' + CONFIG.serverName + '/Broker/' + name;
            
            $.post(server, {message: message}, callback);

            function callback(response){
            	
                debugger;
                $('#response').text(response);
            };
			
		};

    </script>

</body>
</html>
